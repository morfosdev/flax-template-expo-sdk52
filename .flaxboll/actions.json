{"1741889734051":{"actionType":"saveAll","createdAt":"1741889734051","actionID":"1741889734051","userID":"#TEMP","path":"system.capsules.f550c7f4-e8ec-42c1-b9b8-dc96a17ba9c0.capsUseCodeInfo.capsUseInputs.sss_freeValue-0.capsIptTxtValue","oldValue":"// ---------- import Local Tools\nimport { setData } from '../project';\n\nexport const css1 =\n  'color: yellow; background-color: black; font-size: 11px; padding: 2px 6px; border-radius: 3px';\nexport const css2 =\n  'color: green; background-color: black; font-size: 10px; padding: 2px 6px; border-radius: 3px';\n\nexport const css3 =\n  'color: yellow; background-color: red; font-size: 11px; padding: 2px 6px; border-radius: 3px';\nexport const css4 =\n  'color: yellow; background-color: darkred; font-size: 10px; padding: 2px 6px; border-radius: 3px';\n\ntype Tprops_setVar = { args: any; pass: { keyPath: string[]; value: any } };\n\nexport const setVar = (props: Tprops_setVar) => {\n  // ---------- set Caps Inputs\n  const { args, pass } = props;\n  let { keyPath, value } = pass;\n  console.log('%csetVar', { keyPath, value });\n\n  // ---------- join String\n  const url = keyPath.reduce((prev, curr) => prev + curr, '');\n\n  value = testArgs(url, args);\n  console.log('SET VAR..', { value });\n\n  // --------- update Central Data\n  if (value === undefined) {\n    // --------- set Consoles System\n    console.log('%csetVar', css3);\n    console.log('%csetVar path', css4, url);\n    console.table('%csetVar value', css4, 'o valor de value é ' + value);\n  }\n\n  if (value !== undefined) {\n    // --------- set Consoles System\n    console.log('%csetVar', css1);\n    console.log('path:', url);\n    console.table('value:', value);\n  }\n\n  setData({ path: url, value: value });\n};\n\nconst findFlatItem = obj => {\n  if (typeof obj !== 'object' || obj === null) return null;\n\n  if ('item' in obj) return obj.item;\n\n  for (const key in obj) {\n    if (Array.isArray(obj[key])) {\n      for (const element of obj[key]) {\n        const found = findFlatItem(element);\n        if (found) return found;\n      }\n    } else if (typeof obj[key] === 'object') {\n      const found = findFlatItem(obj[key]);\n      if (found) return found;\n    }\n  }\n\n  return null;\n};\n\nconst testArgs = (children, args) => {\n  let condChildren = '';\n  let newArgChildren = 'undefined';\n\n  console.log({ children });\n\n  const joinedChild = children.join();\n  if (joinedChild.includes('$var_')) condChildren = 'var';\n  if (joinedChild.includes('$arg_')) condChildren = 'arg';\n\n  if (condChildren === 'arg') {\n    const key = joinedChild.split('_')[1];\n\n    console.log('TEXT', { key });\n\n    const foundItem = findFlatItem(args);\n    if (foundItem && foundItem[key]) {\n      newArgChildren = foundItem[key];\n      console.log('TEXT', { newArgChildren });\n    }\n  }\n\n  if (newArgChildren === 'undefined') console.log('ARG NOT FOUND');\n\n  return { condChildren, newArgChildren };\n};","newValue":"// ---------- import Local Tools\nimport { setData } from '../project';\n\nexport const css1 =\n  'color: yellow; background-color: black; font-size: 11px; padding: 2px 6px; border-radius: 3px';\nexport const css2 =\n  'color: green; background-color: black; font-size: 10px; padding: 2px 6px; border-radius: 3px';\n\nexport const css3 =\n  'color: yellow; background-color: red; font-size: 11px; padding: 2px 6px; border-radius: 3px';\nexport const css4 =\n  'color: yellow; background-color: darkred; font-size: 10px; padding: 2px 6px; border-radius: 3px';\n\ntype Tprops_setVar = { args: any; pass: { keyPath: string[]; value: any } };\n\nexport const setVar = (props: Tprops_setVar) => {\n  // ---------- set Caps Inputs\n  const { args, pass } = props;\n  let { keyPath, value } = pass;\n  console.log('%csetVar', { keyPath, value });\n\n  // ---------- join String\n  const url = keyPath.reduce((prev, curr) => prev + curr, '');\n\n  value = testArgs(keyPath, args);\n  console.log('SET VAR..', { value });\n\n  // --------- update Central Data\n  if (value === undefined) {\n    // --------- set Consoles System\n    console.log('%csetVar', css3);\n    console.log('%csetVar path', css4, url);\n    console.table('%csetVar value', css4, 'o valor de value é ' + value);\n  }\n\n  if (value !== undefined) {\n    // --------- set Consoles System\n    console.log('%csetVar', css1);\n    console.log('path:', url);\n    console.table('value:', value);\n  }\n\n  setData({ path: url, value: value });\n};\n\nconst findFlatItem = obj => {\n  if (typeof obj !== 'object' || obj === null) return null;\n\n  if ('item' in obj) return obj.item;\n\n  for (const key in obj) {\n    if (Array.isArray(obj[key])) {\n      for (const element of obj[key]) {\n        const found = findFlatItem(element);\n        if (found) return found;\n      }\n    } else if (typeof obj[key] === 'object') {\n      const found = findFlatItem(obj[key]);\n      if (found) return found;\n    }\n  }\n\n  return null;\n};\n\nconst testArgs = (children, args) => {\n  let condChildren = '';\n  let newArgChildren = 'undefined';\n\n  console.log({ children });\n\n  const joinedChild = children.join();\n  if (joinedChild.includes('$var_')) condChildren = 'var';\n  if (joinedChild.includes('$arg_')) condChildren = 'arg';\n\n  if (condChildren === 'arg') {\n    const key = joinedChild.split('_')[1];\n\n    console.log('TEXT', { key });\n\n    const foundItem = findFlatItem(args);\n    if (foundItem && foundItem[key]) {\n      newArgChildren = foundItem[key];\n      console.log('TEXT', { newArgChildren });\n    }\n  }\n\n  if (newArgChildren === 'undefined') console.log('ARG NOT FOUND');\n\n  return { condChildren, newArgChildren };\n};"}}